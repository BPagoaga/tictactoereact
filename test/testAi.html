<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Ai</title>
</head>
<body>
  <script type="text/javascript">

    function moveAi(arr){
      var result = [];

      // create an array of emtpy cells
      result = arr.map(isEmpty).filter(isDefined);
      console.log(result);

      // avoid anonymous function for better debugging
      function isEmpty(el, i, arr){
        if(el === ''){
          return i;
        }
      }

      function isDefined(el, i, arr){
        return el !== undefined;
      }

      // pick a random number in that array
      console.log(result[Math.floor(Math.random()*result.length)]);
      return result[Math.floor(Math.random()*result.length)];
    }

    // test
    var testArray = ['','x','','o','o','',''];
    moveAi(testArray);

  </script>
</body>
</html>